# 交通事故データの地図可視化

交通事故データを用いて **事故発生地点の分布**および **リンク別の事故件数**を地図上に可視化


## 実施内容

- 警察庁交通事故データに含まれる事故発生地点の緯度・経度を整理
- 度分秒（DMS）形式で与えられていた座標を十進度（DD）に変換
- 2019–2024 年の事故データを用いて以下を作成
  - 事故発生地点の点プロット地図
  - BLink リンクへの最近接割当によるリンク別事故件数地図
- 地図描画時は、可視化が重くならないよう **事故が発生したリンクのみを表示**

### 交通事故データ
- 出典：警察庁「交通事故統計情報（本票）」
- 対象年：2019–2024 年
- 抽出条件：
  - 都道府県コード：73（広島県）
  - 警察署等コード：112
- 主な使用項目：
  - 事故発生地点の緯度・経度
  - 市区町村コード
  - 発生年

| 年 | 事故件数 |
|----|---------:|
| 2019 | 513 |
| 2020 | 316 |
| 2021 | 365 |
| 2022 | 324 |
| 2023 | 377 |
| 2024 | 297 |
| **合計** | **2,192** |



#### 座標データについて
- 緯度・経度は **世界測地系・度分秒（DMS）形式を 10⁷ 倍した整数値**として格納されていた
- 本研究ではこれを十進度（DD）形式に正しく変換（lat_dd / lon_dd）した上で使用している
## 作成した地図（Outputs）

- **事故点プロット地図（2019–2024）**  
  ![6A3BCD40-803F-4BCA-960F-FC38F9C3B594_1_201_a](https://github.com/user-attachments/assets/9202e365-06f7-4de3-8658-4280965c10c7)


- **リンク別事故件数地図（2019–2024 合計）**  
  （最近接距離の閾値：300 m）  
  ![42BF0354-2D67-4189-9E15-528736CC71B7_1_201_a](https://github.com/user-attachments/assets/8b1ec008-4296-487c-8180-9288e2e8b8a5)








## 分析手法の概要

- 事故発生地点（点）を、距離計算用の座標系（UTM）に変換
- 各事故点について、最も近い BLink リンクを検索
- 最近接距離が 300 m 以下のものを有効な割当として採用
- リンク ID ごとに事故件数を集計
- 集計結果をリンク形状と結合し、地図上に可視化



## 今後の予定
- プローブ通過台数データを用いた事故件数の正規化



